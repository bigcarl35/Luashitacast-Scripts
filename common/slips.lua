local slips = T{};

local utilities = require('common.utilities');

--[[
    This component contains all routines that deal with storage and claim slips

    List of routines-
        Subroutines:
            FindSlips               Determines what storage slips the player owns

        Functions:
            fDisplaySlips           Displays which storage slips the player owns
            fFindClaimSlip          Determines which claim slip the player has
            local fWhichSlip        Determines which storage slip wanted by name
--]]

-- This structure tracks which storage slip(s) you own and where they can be found.
-- The storage slip IDs and item IDs were gotten from Windower4 libs/slips.lua and
-- were checked in the AirSkyBoat source (at least the slip ids).
slips.tSlips = {
    [1]  = {
        ['name'] = 'Storage Slip 01', ['id'] = 29312, 	-- Salvage,Nyzul,Einherjar,Assault
        ['location'] = nil,
        ['items'] = {
            16084,14546,14961,15625,15711,16085,14547,14962,15626,15712,16086,14548,14963,15627,15713,16087,14549,14964,15628,
            15714,16088,14550,14965,15629,15715,16089,14551,14966,15630,15716,16090,14552,14967,15631,15717,16091,14553,14968,
            15632,15718,16092,14554,14969,15633,15719,16093,14555,14970,15634,15720,16094,14556,14971,15635,15721,16095,14557,
            14972,15636,15722,16096,14558,14973,15637,15723,16097,14559,14974,15638,15724,16098,14560,14975,15639,15725,16099,
            14561,14976,15640,15726,16100,14562,14977,15641,15727,16101,14563,14978,15642,15728,16102,14564,14979,15643,15729,
            16103,14565,14980,15644,15730,16106,14568,14983,15647,15733,16107,14569,14984,15648,15734,16108,14570,14985,15649,
            15735,16602,17741,18425,18491,18588,18717,18718,18850,18943,16069,14530,14940,15609,15695,16062,14525,14933,15604,
            15688,16064,14527,14935,15606,15690,18685,18065,17851,18686,18025,18435,18113,17951,17715,18485,18408,18365,18583,
            18417,18388,16267,16268,16269,16228,16229,15911,15799,15800,15990,17745,18121,
            16117,14577,17857 }, -- 168 items
            ['own'] = false, ['extra'] = nil },
    [2]  = {
        ['name'] = 'Storage Slip 02', ['id'] = 29313,	-- 73-75 Abjuratory,Tu'lia,Lumoria,Limbus,Unity Leader Shirts
        ['location'] = nil,
        ['items'] = {
            12421,12549,12677,12805,12933,13911,14370,14061,14283,14163,12429,12557,12685,12813,12941,13924,14371,14816,14296,
            14175,13934,14387,14821,14303,14184,13935,14388,14822,14304,14185,13876,13787,14006,14247,14123,13877,13788,14007,
            14248,14124,13908,14367,14058,14280,14160,13909,14368,14059,14281,14161,16113,14573,14995,15655,15740,16115,14575,
            14997,15657,15742,16114,14574,14996,15656,15741,16116,14576,14998,15658,15743,12818,18198,12946,18043,12690,17659,
            12296,12434,15471,15472,15473,15508,15509,15510,15511,15512,15513,15514,17710,17595,18397,18360,18222,17948,18100,
            15475,15476,15477,15488,15961,14815,14812,14813,15244,15240,14488,14905,15576,15661,15241,14489,14906,15577,15662,
            13927,14378,14076,14308,14180,13928,14379,14077,14309,14181,10438,10276,10320,10326,10367,10439,10277,10321,10327,
            10368,10440,10278,10322,10328,10369,10441,10279,10323,10329,10370,25734,25735,25736,25737,25738,25739,25740,25741,
            25742,25743,25744 },	-- 155 items
        ['own'] = false, ['extra'] = nil },
    [3]  = {
        ['name'] = 'Storage Slip 03', ['id'] = 29314,	-- Zeni,Campaign,Void Watch,Twilight,Vorac. Resurg. Rewards
        ['location'] = nil,
        ['items'] = {
            16155,11282,15021,16341,11376,16156,11283,15022,16342,11377,16157,11284,15023,16343,11378,16148,14590,15011,16317,
            15757,16143,14591,15012,16318,15758,16146,14588,15009,16315,15755,16147,14589,15010,16316,15756,15966,15967,19041,
            17684,17685,11636,15844,15934,16258,18735,18734,16291,16292,19042,15935,16293,16294,15936,18618,11588,11545,16158,
            16159,16160,16149,14583,15007,16314,15751,16141,14581,15005,16312,15749,16142,14582,15006,16313,15750,10876,10450,
            10500,11969,10600,10877,10451,10501,11970,10601,10878,10452,10502,11971,10602,19132,18551,11798,11362,11363,11625,
            15959,16259,22299,26414,21623,26219,21886,23792,23793,23794,23795,23796,22032,22043 }, -- 109 items
        ['own'] = false, ['extra'] = nil },
    [4]  = {
        ['name'] = 'Storage Slip 04', ['id'] = 29315,	-- AF
        ['location'] = nil,
        ['items'] = {
            12511,12638,13961,14214,14089,12512,12639,13962,14215,14090,13855,12640,13963,14216,14091,13856,12641,13964,14217,
            14092,12513,12642,13965,14218,14093,12514,12643,13966,14219,14094,12515,12644,13967,14220,14095,12516,12645,13968,
            14221,14096,12517,12646,13969,14222,14097,13857,12647,13970,14223,14098,12518,12648,13971,14099,14224,13868,13781,
            13972,14225,14100,13869,13782,13973,14226,14101,12519,12649,13974,14227,14102,12520,12650,13975,14228,14103,15265,
            14521,14928,15600,15684,15266,14522,14929,15601,15685,15267,14523,14930,15602,15686,16138,14578,15002,15659,15746,
            16139,14579,15003,15660,15747,16140,14580,15004,16311,15748,16678,17478,17422,17423,16829,16764,17643,16798,16680,
            16766,17188,17812,17771,17772,16887,17532,17717,18702,17858,19203,21461,21124,20776,27786,27926,28066,28206,28346,
            27787,27927,28067,28207,28347 }, -- 138 items
        ['own'] = false, ['extra'] = nil },
    [5]  = {
        ['name'] = 'Storage Slip 05', ['id'] = 29316, 	-- AF+1
        ['location'] = nil,
        ['items'] = {
            15225,14473,14890,15561,15352,15226,14474,14891,15562,15353,15227,14475,14892,15563,15354,15228,14476,14893,15564,
            15355,15229,14477,14894,15565,15356,15230,14478,14895,15566,15357,15231,14479,14896,15567,15358,15232,14480,14897,
            15568,15359,15233,14481,14898,15569,15360,15234,14482,14899,15570,15361,15235,14483,14900,15362,15571,15236,14484,
            14901,15572,15363,15237,14485,14902,15573,15364,15238,14486,14903,15574,15365,15239,14487,14904,15575,15366,11464,
            11291,15024,16345,11381,11467,11294,15027,16348,11384,11470,11297,15030,16351,11387,11475,11302,15035,16357,11393,
            11476,11303,15036,16358,11394,11477,11304,15037,16359,11395}, -- 105 items
        ['own'] = false, ['extra'] = nil },
    [6]  = {
        ['name'] = 'Storage Slip 06', ['id'] = 29317, 	-- Relic
        ['location'] = nil,
        ['items'] = {
            15072,15087,15102,15117,15132,15871,15073,15088,15103,15118,15133,15478,15074,15089,15104,15119,15134,15872,15075,
            15090,15105,15120,15135,15874,15076,15091,15106,15121,15136,15873,15077,15092,15107,15122,15137,15480,15078,15093,
            15108,15123,15138,15481,15079,15094,15109,15124,15139,15479,15080,15095,15110,15125,15140,15875,15081,15096,15111,
            15126,15141,15482,15082,15097,15112,15127,15142,15876,15083,15098,15113,15128,15143,15879,15084,15099,15114,15129,
            15144,15877,15085,15100,15115,15130,15145,15878,15086,15101,15116,15131,15146,15484,11465,11292,15025,16346,11382,
            16244,11468,11295,15028,16349,11385,15920,11471,11298,15031,16352,11388,16245,11478,11305,15038,16360,11396,16248,
            11480,11307,15040,16362,11398,15925}, -- 120 items
        ['own'] = false, ['extra'] = nil },
    [7]  = {
        ['name'] = 'Storage Slip 07', ['id'] = 29318, 	-- Relic+1
        ['location'] = nil,
        ['items'] = {
            15245,14500,14909,15580,15665,15246,14501,14910,15581,15666,15247,14502,14911,15582,15667,15248,14503,14912,15583,
            15668,15249,14504,14913,15584,15669,15250,14505,14914,15585,15670,15251,14506,14915,15586,15671,15252,14507,14916,
            15587,15672,15253,14508,14917,15588,15673,15254,14509,14918,15589,15674,15255,14510,14919,15590,15675,15256,14511,
            14920,15591,15676,15257,14512,14921,15592,15677,15258,14513,14922,15593,15678,15259,14514,14923,15594,15679,11466,
            11293,15026,16347,11383,11469,11296,15029,16350,11386,11472,11299,15032,16353,11389,11479,11306,15039,16361,11397,
            11481,11308,15041,16363,11399}, -- 100 items
        ['own'] = false, ['extra'] = nil },
    [8]  = {
        ['name'] = 'Storage Slip 11', ['id'] = 29322, 	-- Scenario Rewards,Events
        ['location'] = nil,
        ['items'] = {
            15297,15298,15299,15919,15929,15921,18871,16273,18166,18167,18256,13216,13217,13218,15455,15456,181,182,183,184,129,
            11499,18502,18855,19274,18763,19110,15008,17764,19101,365,366,367,15860,272,273,274,275,276,11853,11956,11854,11957,
            11811,11812,11861,11862,3676,18879,3647,3648,3649,3677,18880,18863,18864,15178,14519,10382,11965,11967,15752,15179,
            14520,10383,11966,11968,15753,10875,3619,3620,3621,3650,3652,10430,10251,10593,10431,10252,10594,10432,10253,10595,
            10433,10254,10596,10429,10250,17031,17032,10807,18881,10256,10330,10257,10331,10258,10332,10259,10333,10260,10334,
            10261,10335,10262,10336,10263,10337,10264,10338,10265,10339,10266,10340,10267,10341,10268,10342,10269,10343,10270,
            10344,10271,10345,10446,10447,426,10808,3654,265,266,267,269,270,271,18464,18545,18563,18912,18913,10293,10809,
            10810,10811,10812,27803,28086,27804,28087,27805,28088,27806,28089,27765,27911,27760,27906,27759,28661,286,27757,
            27758,287,27899,28185,28324,27898,28655,27756,28511,21118,27902,100,21117,87,20953,21280,28652,28650,27726,28509,
            28651,27727,28510,27872,21113,27873,21114,20532,20533,27717,27718 }, -- 192 items
        ['own'] = false, ['extra'] = nil },
    [9]  = {
        ['name'] = 'Storage Slip 12', ['id'] = 29323,	-- Relic-1
        ['location'] = nil,
        ['items'] = {
            2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,
            2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,
            2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,
            2102,2103,2104,2105,2106,2107,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2718,2719,
            2720,2721,2722,2723,2724,2725,2726,2727}, -- 100 items
        ['own'] = false, ['extra'] = nil },
    [10]  = {
        ['name'] = 'Storage Slip 19', ['id'] = 29330,	-- Scenario Rewards II, Events
        ['location'] = nil,
        ['items'] = {
            27715,27866,27716,27867,278,281,284,3680,3681,27859,28149,27860,28150,21107,21108,27625,27626,26693,26694,26707,26708,
            27631,27632,26705,26706,27854,27855,26703,26704,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,
            21097,21098,26717,26718,26728,26719,26720,26889,26890,21095,21096,26738,26739,26729,26730,26788,26946,27281,27455,
            26789,3698,20713,20714,26798,26954,26799,26955,3706,26956,26957,3705,26964,26965,27291,26967,27293,26966,27292,26968,
            27294,21153,21154,21086,21087,25606,26974,27111,27296,27467,25607,26975,27112,27297,27468,14195,14830,14831,13945,13946,
            14832,13947,17058,13948,14400,14392,14393,14394,14395,14396,14397,14398,14399,11337,11329,11330,11331,11332,11333,11334,
            11335,11336,15819,15820,15821,15822,15823,15824,15825,15826,3670,3672,3661,3595,3665,3668,3663,3674,3667,191,28,153,151,
            198,202,142,134,137,340,341,334,335,337,339,336,342,338,3631,3632,3625,3626,3628,3630,3627,3633,3629,25632,25633,25604,
            25713,27325,25714,27326,3651,25711,25712,10925,10948,10949,10950,10951,10952,10953,10954,10955,25657,25756,25658,25757,
            25909}, -- 192 items
        ['own'] = false, ['extra'] = nil },
    [11]  = {
        ['name'] = 'Storage Slip 22', ['id'] = 29333,	-- Scenario Rewards III, Events
        ['location'] = nil,
        ['items'] = {
            25639,25715,25638,3707,3708,21074,26406,25645,25726,25648,25649,25650,25758,25759,25672,25673,282,279,280,268,25670,25671,
            26520,25652,25669,22017,22018,25586,25587,10384,10385,22019,22020,25722,25585,25776,25677,25678,25675,25679,20668,20669,
            22069,25755,3722,21608,3713,3714,3715,3717,3727,3728,20577,3726,20666,20667,21741,21609,3723,26410,26411,25850,21509,3725,
            3720,21658,26524,20665,26412,21965,21966,21967,25774,25838,25775,25839,3724,3721,21682,22072,21820,21821,23731,26517,23730,
            20573,20674,21742,21860,22065,22039,22124,22132,3719,3738,26518,27623,21867,21868,22283,26516,20933,20578,20568,3739,20569,
            20570,22288,26352,23737,22282,3740,26545,21977,21978,3742,26519,26514,26515,3743,21636,23753,23754,54,25910,20571,23790,
            23791,26489,22153,22154,20574,20675,21743,21861,22066,3748,21638,23800,23801,3749,3750,22045,22046,3751,26490,26546,22047,
            22048,22049,23803,23804,22051,22052,3752,23805,25911,25912,3753,23806,3754,23810,23811,3755,26496,26497,21786,21787,21996,
            21997,23802,25777,25778,21933,21934,21993,21994,23866,20670,21537,21538,21572,23870,21760,23871,23872,23873,23874,20691}, -- 189 Items
        ['own'] = false, ['extra'] = nil },
        --	['name'] = 'Storage Slip 08'	-- Empyrean
        --	['name'] = 'Storage Slip 09'	-- Empyrean+1
        --	['name'] = 'Storage Slip 10'	-- Empyrean+2
        --	['name'] = 'Storage Slip 13'	-- Relic+2 if augmented
        --	['name'] = 'Storage Slip 14'	-- 99 Nyzul,Einherjar,Salvage,Domain
        --	['name'] = 'Storage Slip 15'	-- Reforged AF
        --	['name'] = 'Storage Slip 16'	-- Reforged AF+1
        --	['name'] = 'Storage Slip 17'	-- Reforged Relic
        --	['name'] = 'Storage Slip 18'	-- Reforged Relic+1
        --	['name'] = 'Storage Slip 20'	-- Reforged Empyrean
        --	['name'] = 'Storage Slip 21'	-- Reforged Empyrean+1
        --	['name'] = 'Storage Slip 23'	-- Ambuscade Equipment
        --	['name'] = 'Storage Slip 24'	-- Reforged AF+2
        --	['name'] = 'Storage Slip 25'	-- Reforged AF+3
        --	['name'] = 'Storage Slip 26'	-- Reforged Relic+2
        --	['name'] = 'Storage Slip 27'	-- Reforged Relic+3
        --	['name'] = 'Storage Slip 28'	-- Ambuscade Weapons/Equipment
        --	['name'] = 'Storage Slip 29'	-- Reforged Empyrean+2
        --	['name'] = 'Storage Slip 30',	-- Reforged Empyrean+3
        --	['name'] = 'Storage Slip 31'	-- Scenario Rewards IV, Events
};

-- This structure defines all the claim slips and what items are associated
-- with them through ToAU. It is used to determine if an item in a gear set
-- is stored on the Claim Storage NPC
slips.tClaimSlips = {
    -- Level 24-30
    { ['name'] = 'Iron Chainmail Set', ['kid'] = 1920, ['own'] = false,
        ['ids'] = {12424,12552,12680,12808,12936} },
    { ['name'] = 'Shade Harness Set', ['kid'] = 1921, ['own'] = false,
        ['ids'] = {15165,14426,14858,14327,15315} },
    { ['name'] = 'Brass Scale Armor Set', ['kid'] = 1922, ['own'] = false,
        ['ids'] = {12433,12561,12689,12817,12945} },
    { ['name'] = 'Wool Robe Set', ['kid'] = 1923, ['own'] = false,
        ['ids'] = {12474,12602,12730,12858,12986} },
    { ['name'] = 'Eisenplatte Set', ['kid'] = 1924, ['own'] = false,
        ['ids'] = {15167,14431,14860,14329,15317} },
    { ['name'] = 'Soil Gi Set', ['kid'] = 1925, ['own'] = false,
        ['ids'] = {12458,12586,12714,12842,12970} },
    { ['name'] = 'Seer\'s Tunic Set', ['kid'] = 1926, ['own'] = false,
        ['ids'] = {15163,14424,14856,14325,15313} },
    { ['name'] = 'Studded Armor Set', ['kid'] = 1927, ['own'] = false,
        ['ids'] = {12442,12570,12698,12826,12954} },
    { ['name'] = 'Centurion\'s Scale Mail Set', ['kid'] = 1928, ['own'] = false,
        ['ids'] = {12438,12566,12694,12822,12950} },
    { ['name'] = 'Mercenary Captain\'s Doublet Set', ['kid'] = 1929, ['own'] = false,
        ['ids'] = {12470,12598,12726,12854,12982} },
    { ['name'] = 'Garish Tunic Set', ['kid'] = 1930, ['own'] = false,
        ['ids'] = {15164,14425,14857,14326,15314} },
    { ['name'] = 'Noct Doublet Set', ['kid'] = 1931, ['own'] = false,
        ['ids'] = {15161,14422,14854,14323,15311} },
    -- Level 31-40
    { ['name'] = 'Custom Armor Set (H.M.)', ['kid'] = 1932, ['own'] = false,
        ['ids'] = {12654,12761,12871,13015} },
    { ['name'] = 'Custom Armor Set (H.F.)', ['kid'] = 1933, ['own'] = false,
        ['ids'] = {12655,12762,12872,13016} },
    { ['name'] = 'Magna Armor Set (E.M.)', ['kid'] = 1934, ['own'] = false,
        ['ids'] = {12656,12763,12873,13017} },
    { ['name'] = 'Magna Armor Set (E.F.)', ['kid'] = 1935, ['own'] = false,
        ['ids'] = {12657,12764,12874,13018} },
    { ['name'] = 'Wonder Armor Set (Taru)', ['kid'] = 1936, ['own'] = false,
        ['ids'] = {12658,12765,12875,13019} },
    { ['name'] = 'Savage Armor Set (Mithra)', ['kid'] = 1937, ['own'] = false,
        ['ids'] = {12659,12766,12876,13020} },
    { ['name'] = 'Elder Armor Set (Galka)', ['kid'] = 1938, ['own'] = false,
        ['ids'] = {12660,12767,12877,13021} },
    { ['name'] = 'Linen Cloak Set', ['kid'] = 1939, ['own'] = false,
        ['ids'] = {12610,12738,12866,12994} },
    { ['name'] = 'Padded Armor Set', ['kid'] = 1940, ['own'] = false,
        ['ids'] = {12450,12578,12706,12836,12962} },
    { ['name'] = 'Silver Chainmail Set', ['kid'] = 1941, ['own'] = false,
        ['ids'] = {12425,12553,12681,12809,12937} },
    { ['name'] = 'Gambison Set', ['kid'] = 1942, ['own'] = false,
        ['ids'] = {12466,12594,12722,12850,12978} },
    { ['name'] = 'Iron Scail Mail Set', ['kid'] = 1943, ['own'] = false,
        ['ids'] = {13871,13783,14001,14243,14118} },
    { ['name'] = 'Cuir Armor Set', ['kid'] = 1944, ['own'] = false,
        ['ids'] = {12443,12571,12699,12827,12955} },
    { ['name'] = 'Velvet Robe Set', ['kid'] = 1945, ['own'] = false,
        ['ids'] = {12475,12603,12731,12859,12987} },
    { ['name'] = 'Opaline Dress Set', ['kid'] = 1946, ['own'] = false,
        ['ids'] = {13931,14384,14249,14116} },
    { ['name'] = 'Royal Squire\'s Chainmail Set', ['kid'] = 1947, ['own'] = false,
        ['ids'] = {12431,12559,12687,12815,12943} },
    { ['name'] = 'Plate Armor Set', ['kid'] = 1948, ['own'] = false,
        ['ids'] = {12416,12544,12672,12800,12928} },
    { ['name'] = 'Combat Castor\'s Set', ['kid'] = 1949, ['own'] = false,
        ['ids'] = {12614,12743,12870,12998} },
    { ['name'] = 'Argent Set', ['kid'] = 1059, ['own'] = false,
        ['ids'] = {11310,16365} },
    -- Level 41-50
    { ['name'] = 'Alumine Haubert Set', ['kid'] = 1950, ['own'] = false,
        ['ids'] = {15205,14444,14051,15402,15341} },
    { ['name'] = 'Carapace Armor Set', ['kid'] = 1951, ['own'] = false,
        ['ids'] = {13711,13712,13713,12837,13715} },
    { ['name'] = 'Banded Mail Set', ['kid'] = 1952, ['own'] = false,
        ['ids'] = {12426,12554,12682,12810,12938} },
    { ['name'] = 'Hara-Ate Set', ['kid'] = 1953, ['own'] = false,
        ['ids'] = {12459,12587,12715,12843,12974} },
    { ['name'] = 'Raptor Armor Set', ['kid'] = 1954, ['own'] = false,
        ['ids'] = {12444,12572,12700,12828,12956} },
    { ['name'] = 'Steel Scale Mail Set', ['kid'] = 1955, ['own'] = false,
        ['ids'] = {13873,13785,14003,14245,14120} },
    { ['name'] = 'Wool Gambison Set', ['kid'] = 1956, ['own'] = false,
        ['ids'] = {12467,12595,12723,12851,12979} },
    { ['name'] = 'Shinobi Gi Set', ['kid'] = 1957, ['own'] = false,
        ['ids'] = {12460,12588,12716,12844,12972} },
    { ['name'] = 'Mythril Plate Armor Set', ['kid'] = 1962, ['own'] = false,
        ['ids'] = {12417,12545,12673,12801,12929} },
    { ['name'] = 'Iron Musketeer\'s Cuirass Set', ['kid'] = 1958, ['own'] = false,
        ['ids'] = {12422,12550,12678,12806,12934} },
    { ['name'] = 'Tactician Magician\'s Cloak Set', ['kid'] = 1959, ['own'] = false,
        ['ids'] = {12478,12606,12734,12862,12990} },
    { ['name'] = 'White Cloak Set', ['kid'] = 1960, ['own'] = false,
        ['ids'] = {12611, 12739, 12867, 12995} },
    { ['name'] = 'Austere Robe Set', ['kid'] = 1961, ['own'] = false,
        ['ids'] = {13939,13814,14826,14310,14189} },
    { ['name'] = 'Crow Jupon Set', ['kid'] = 1963, ['own'] = false,
        ['ids'] = {15242,14498,14907,15578,15663} },
    -- Artifact Armor/High Level Gear
    { ['name'] = 'Fighter\'s Armor Set', ['kid'] = 654, ['own'] = false,
        ['ids'] = {12511,12638,13961,14214,14089} },
    { ['name'] = 'Temple Attire Set', ['kid'] = 655, ['own'] = false,
        ['ids'] = {12512,12639,13962,14215,14090} },
    { ['name'] = 'Healer\'s Attire Set', ['kid'] = 656, ['own'] = false,
        ['ids'] = {13855,12640,13963,14216,14091} },
    { ['name'] = 'Wizard\'s Attire Set', ['kid'] = 657, ['own'] = false,
        ['ids'] = {13856,12641,13964,14217,14092} },
    { ['name'] = 'Warlock\'s Attire Set', ['kid'] = 658, ['own'] = false,
        ['ids'] = {12513,12642,13965,14218,14093} },
    { ['name'] = 'Rogue\'s Attire Set', ['kid'] = 659, ['own'] = false,
        ['ids'] = {12514,12643,13966,14219,14094} },
    { ['name'] = 'Gallant Armor Set', ['kid'] = 660, ['own'] = false,
        ['ids'] = {12515,12644,13967,14220,14095} },
    { ['name'] = 'Chaos Armor Set', ['kid'] = 661, ['own'] = false,
        ['ids'] = {12516,12645,13968,14221,14096} },
    { ['name'] = 'Beast Armor Set', ['kid'] = 662, ['own'] = false,
        ['ids'] = {12517,12646,13969,14222,14097} },
    { ['name'] = 'Choral Armor Set', ['kid'] = 663, ['own'] = false,
        ['ids'] = {13857,12647,13970,14223,14098} },
    { ['name'] = 'Hunter\'s Attire Set', ['kid'] = 664, ['own'] = false,
        ['ids'] = {12518,12648,13971,14224,14099} },
    { ['name'] = 'Myochin Armor Set', ['kid'] = 665, ['own'] = false,
        ['ids'] = {13868,13781,13972,14225,14100} },
    { ['name'] = 'Ninja\'s Garb Set', ['kid'] = 666, ['own'] = false,
        ['ids'] = {13869,13782,13973,14226,14101} },
    { ['name'] = 'Drachen Armor Set', ['kid'] = 667, ['own'] = false,
        ['ids'] = {12519,12649,13974,14227,14102} },
    { ['name'] = 'Evoker\'s Attire Set', ['kid'] = 668, ['own'] = false,
        ['ids'] = {12520,12650,13975,14228,14103} },
    { ['name'] = 'Magus Attire Set', ['kid'] = 1964, ['own'] = false,
        ['ids'] = {15265,14521,14928,15600,15684} },
    { ['name'] = 'Corsair\'s Attire Set', ['kid'] = 1965, ['own'] = false,
        ['ids'] = {15266,14522,14929,15601,15685} },
    { ['name'] = 'Puppetry Attire Set', ['kid'] = 1966, ['own'] = false,
        ['ids'] = {15267,14523,14930,15602,15686} },
    { ['name'] = 'Dancer Attire Set (M)', ['kid'] = 1967, ['own'] = false,
        ['ids'] = {16138,14578,15002,15659,15746} },
    { ['name'] = 'Dancer Attire Set (F)', ['kid'] = 1968, ['own'] = false,
        ['ids'] = {16139,14579,15003,15660,15747} },
    { ['name'] = 'Scholar\'s Attire Set', ['kid'] = 1969, ['own'] = false,
        ['ids'] = {16140,14580,15004,16311,15748} },
    { ['name'] = 'Amir Armor Set', ['kid'] = 1970, ['own'] = false,
        ['ids'] = {16062,14525,14933,15604,15688} },
    { ['name'] = 'Pahluwan Armor Set', ['kid'] = 1971, ['own'] = false,
        ['ids'] = {16069,14530,14940,15609,15695} },
    { ['name'] = 'Yigit Armor Set', ['kid'] = 1972, ['own'] = false,
        ['ids'] = {16064,14527,14935,15606,15690} },
    -- Relic Armor
    { ['name'] = 'Warrior\'s Armor Set', ['kid'] = 861, ['own'] = false,
        ['ids'] = {15072,15087,15102,15117,15132} },
    { ['name'] = 'Melee Attire Set', ['kid'] = 862, ['own'] = false,
        ['ids'] = {15073,15088,15103,15118,15133} },
    { ['name'] = 'Cleric\'s Attire Set', ['kid'] = 863, ['own'] = false,
        ['ids'] = {15074,15089,15104,15119,15134} },
    { ['name'] = 'Sorcerer\'s Attire Set', ['kid'] = 864, ['own'] = false,
        ['ids'] = {15075,15090,15105,15120,15135} },
    { ['name'] = 'Duelist\'s Armor Set', ['kid'] = 865, ['own'] = false,
        ['ids'] = {15076,15091,15106,15121,15136} },
    { ['name'] = 'Assassin\'s Attire Set', ['kid'] = 866, ['own'] = false,
        ['ids'] = {15077,15092,15107,15122,15137} },
    { ['name'] = 'Valor Armor Set', ['kid'] = 867, ['own'] = false,
        ['ids'] = {15078,15093,15108,15123,15138} },
    { ['name'] = 'Abyss Armor Set', ['kid'] = 868, ['own'] = false,
        ['ids'] = {15079,15094,15109,15124,15139} },
    { ['name'] = 'Monster Armor Set', ['kid'] = 869, ['own'] = false,
        ['ids'] = {15080,15095,15110,15125,15140} },
    { ['name'] = 'Bard\'s Attire Set', ['kid'] = 870, ['own'] = false,
        ['ids'] = {15081,15096,15111,15126,15141} },
    { ['name'] = 'Scout\'s Attire Set', ['kid'] = 871, ['own'] = false,
        ['ids'] = {15082,15097,15112,15127,15142} },
    { ['name'] = 'Saotome Armor Set', ['kid'] = 872, ['own'] = false,
        ['ids'] = {15083,15098,15113,15128,15143} },
    { ['name'] = 'Koga Garb Set', ['kid'] = 873, ['own'] = false,
        ['ids'] = {15084,15099,15114,15129,15144} },
    { ['name'] = 'Wyrm Armor Set', ['kid'] = 874, ['own'] = false,
        ['ids'] = {15085,15100,15115,15130,15145} },
    { ['name'] = 'Summoner\'s Attire Set', ['kid'] = 875, ['own'] = false,
        ['ids'] = {15086,15101,15116,15131,15146} },
    { ['name'] = 'Mirage Attire Set', ['kid'] = 1054, ['own'] = false,
        ['ids'] = {11465,11292,15025,16346,11382} },
    { ['name'] = 'Commodore Attire Set', ['kid'] = 1055, ['own'] = false,
        ['ids'] = {11468,11295,15028,16349,11385} },
    { ['name'] = 'Pantin Attire Set', ['kid'] = 1056, ['own'] = false,
        ['ids'] = {11471,11298,15031,16352,11388} },
    { ['name'] = 'Etoile Attire Set', ['kid'] = 1057, ['own'] = false,
        ['ids'] = {11478,11305,15038,16360,11396} },
    { ['name'] = 'Argute Attire Set', ['kid'] = 1058, ['own'] = false,
        ['ids'] = {11480,11307,15040,16362,11398} }
};

--[[
    fWhichSlip determines which storage slip is being asked for by checking the
    known list of storage slip names

    Parameter
        sId     ID of the storage slip in question

    Returned
        iWhich  Number of the matching storage slip
--]]

function fWhichSlip(sId)
    local iWhich = nil;

    if sId ~= nil then
        for i,j in pairs(slips.tSlips) do
            if string.find(j['name'],sId) ~= nil then
                iWhich = i;
                break;
            end
        end
    end
    return iWhich;
end		-- fWhichSlip

--[[
    FindSlips determines what storage slips the player owns and where they are
    located.
--]]

function slips.FindSlips()
    local inventory = AshitaCore:GetMemoryManager():GetInventory();
    local resources = AshitaCore:GetResourceManager();
    local containerID,id;

    -- First, reset the Slips structure
    for i,j in ipairs(slips.tSlips) do
        j['own'] = false;
        j['location'] = nil;
        j['extra'] = nil;
    end

    -- Now search for storage slips
    for i,desc in pairs(utilities.NON_GEAR) do
        containerID = desc['id'];
        -- then loop through the container
        for j = 1,inventory:GetContainerCountMax(containerID),1 do
            itemEntry = inventory:GetContainerItem(containerID, j);
            if (itemEntry.Id ~= 0 and itemEntry.Id ~= 65535) then
                item = resources:GetItemById(itemEntry.Id);
                if string.find(string.lower(item.Name[1]),'storage slip') ~= nil then
                    id = fWhichSlip(string.sub(item.Name[1],-2,-1));
                    if id ~= nil then
                        slips.tSlips[id]['own'] = true;
                        slips.tSlips[id]['location'] = desc;
                        slips.tSlips[id]['extra'] = itemEntry.Extra;
                    else
                        print(chat.message('Warn: Unrecognized storage slip found: ' .. item.Name[1] .. '. Skipping'));
                    end
                end
            end
        end
    end
end		-- slips.FindSlips

--[[
    fDisplaySlips shows which storage slips the player owns

    Parameter:
        bList       True/False, Print detailed list of slips?

    Returned:
        List of slips or nil
--]]

function slips.fDisplaySlips(bList)
    local sOut = ' ';

    if bList == nil then
        bList = false;
    end

    for i,j in ipairs(slips.tSlips) do
        if j['own'] == true then
            if bList then
                print(j['name'] .. ' - ' .. j['location']['name']);
            else
                sOut = sOut .. ',' .. string.sub(j['name'],-2,-1);
            end
        end
    end

    if sOut == ' ' then
        return nil;
    else
        return string.sub(sOut,3,-1);       -- remove the extra ' ,' at the beginning
    end
end     -- gear.fDisplaySlips

--[[
    fFindClaimSlips determines which claim slips the player has via key items

    Returned
        List of slips found
--]]

function slips.fFindClaimSlips()
    local player = gData.GetPlayer();
    local s = ',';

    for i,j in pairs(slips.tClaimSlips) do
        if player:HasKeyItem(j['kid']) then
            j['own'] = true;
            s = s .. j['name'] .. ', ';
        end
    end

    if s == ',' then
        s = 'None';
    else
        s = string.sub(s,2,-3);
    end

    return s;
end     -- slips.fFindClaimSlips
